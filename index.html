<!DOCTYPE html>
<html lang="bg">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Your Fashion</title>
<style>
  html, body { height: 100%; margin: 0; background:#0b0f16; overflow:hidden; }
  * { box-sizing: border-box; }

  .fireworks { position: fixed; inset: 0; width: 100%; height: 100%; }
  .wrap {
    position: relative; z-index: 1;
    width: 100%; height: 100%;
    display: grid; place-items: center;
    padding: 6vh 4vw;
    perspective: 1200px; /* 3D усещане за частиците */
  }
  .logo { width: min(92vw, 1100px); height: auto; display:block; }

  /* ===== ТЪНЪК, БЯЛ КОНТУР + ЕДНОВРЕМЕННО ЗАПЪЛВАНЕ (4s) ===== */

  .logo-stroke {
    fill: none;
    stroke: #ffffff;          /* бяло рисуване */
    stroke-width: 1.3;        /* тънко */
    stroke-linecap: round;
    stroke-linejoin: round;
    stroke-dasharray: 2000;
    stroke-dashoffset: 2000;
    animation: draw 4s ease-out forwards 0ms;  /* рисуване 4s */
    filter: drop-shadow(0 0 4px rgba(255,255,255,.22));
  }

  .logo-fill {
    fill: url(#brandGradient);
    opacity: 0;
    animation: fillin 4s ease-out forwards 0ms; /* оцветяване 4s, едновременно */
    mix-blend-mode: screen;
    filter: drop-shadow(0 6px 18px rgba(49,255,166,.12))
            drop-shadow(0 10px 28px rgba(32,110,255,.12));
  }

  .swash {
    fill: none;
    stroke: url(#brandGradient);
    stroke-width: 1.2;
    stroke-linecap: round;
    opacity: 0;
    stroke-dasharray: 1400;
    stroke-dashoffset: 1400;
    animation: swash 4s ease-out forwards 0ms;  /* линията също 4s */
    filter: drop-shadow(0 0 6px rgba(255,50,74,.2));
  }

  @keyframes draw   { to { stroke-dashoffset: 0; } }
  @keyframes fillin { 0% {opacity: 0} 30% {opacity:.35} 70% {opacity:.9} 100% {opacity:1} }
  @keyframes swash  { 0% {stroke-dashoffset:1400; opacity:0} 15%{opacity:.45} 100% {stroke-dashoffset:0; opacity:.95} }

  .skip {
    position: fixed; right: 16px; bottom: 16px; z-index: 2;
    border: 1px solid rgba(255,255,255,.25);
    background: rgba(255,255,255,.06);
    backdrop-filter: blur(6px);
    color: #fff; font: 700 14px/1 system-ui, -apple-system, Segoe UI, Roboto, Arial;
    padding: 10px 12px; border-radius: 12px; cursor: pointer;
  }
  .skip:hover { background: rgba(255,255,255,.12); }
</style>
</head>
<body>

<canvas class="fireworks"></canvas>

<div class="wrap">
  <svg class="logo" id="logoSVG" viewBox="0 0 1400 700" role="img" aria-label="Your Fashion">
    <defs>
      <style>
        @import url('https://fonts.googleapis.com/css2?family=Great+Vibes&family=Dancing+Script:wght@700&display=swap');
        .brand { font: 700 200px/1 'Great Vibes', 'Dancing Script', cursive; text-anchor: middle; }
        .brand-small { font: 700 170px/1 'Great Vibes', 'Dancing Script', cursive; text-anchor: middle; }
        .italicish { transform: skewX(-3deg); }
        .glyph { pointer-events: none; } /* отделни букви за взривове */
      </style>
      <linearGradient id="brandGradient" x1="0%" y1="0%" x2="100%" y2="0%">
        <stop offset="0%"   stop-color="#31FFA6"/>
        <stop offset="50%"  stop-color="#206EFF"/>
        <stop offset="100%" stop-color="#FF324A"/>
      </linearGradient>
    </defs>

    <!-- Stroke (контур) – разделено по букви с <tspan> -->
    <text class="brand logo-stroke" x="50%" y="40%" aria-hidden="true">
      <tspan class="glyph" id="gY">Y</tspan><tspan class="glyph" id="gO">o</tspan>
      <tspan class="glyph" id="gU">u</tspan><tspan class="glyph" id="gR">r</tspan>
    </text>

    <text class="brand-small italicish logo-stroke" x="50%" y="78%" aria-hidden="true">
      <tspan class="glyph" id="gF">F</tspan><tspan class="glyph" id="gA">a</tspan>
      <tspan class="glyph" id="gS">s</tspan><tspan class="glyph" id="gH">h</tspan>
      <tspan class="glyph" id="gI">i</tspan><tspan class="glyph" id="gO2">o</tspan>
      <tspan class="glyph" id="gN">n</tspan>
    </text>

    <!-- Fill (запълване) – цели думи за чист градиент -->
    <text class="brand logo-fill" x="50%" y="40%">Your</text>
    <text class="brand-small italicish logo-fill" x="50%" y="78%">Fashion</text>

    <!-- Подчертаване -->
    <path class="swash" id="swash"
          d="M 320 600
             C 520 650, 880 650, 1060 585
             S 1280 500, 1200 470"/>
  </svg>
</div>

<button class="skip" aria-label="Пропусни интрото" onclick="window.location.href='page1.html'">Пропусни →</button>

<script>
/* ===== МИКРОВЗРИВОВЕ ОТ ВСЯКА БУКВА – сферично, 3D, от малко към голямо ===== */
(() => {
  const canvas = document.querySelector('.fireworks');
  const ctx = canvas.getContext('2d');
  const DPR = Math.max(1, Math.floor(window.devicePixelRatio || 1));
  const particles = [];
  const colors = ['#FF324A','#31FFA6','#206EFF','#A1A1FF','#FFFFFF'];

  function resize() {
    canvas.width  = innerWidth * DPR;
    canvas.height = innerHeight * DPR;
    canvas.style.width  = innerWidth + 'px';
    canvas.style.height = innerHeight + 'px';
    ctx.setTransform(DPR,0,0,DPR,0,0);
  }
  resize();
  addEventListener('resize', resize);

  // равномерно случайно направление по сфера (3D)
  function randomUnitVec3(){
    const u = Math.random()*2 - 1;          // cos(phi) ∈ [-1,1]
    const t = Math.random()*Math.PI*2;      // theta ∈ [0,2pi)
    const s = Math.sqrt(1 - u*u);
    return { x: s*Math.cos(t), y: s*Math.sin(t), z: u };
  }

  // частица: започва МАЛКА, расте (балон), лети в 3D (вкл. към/от екрана)
  function makeParticle(x, y, baseSpeed=2.8){
    const dir = randomUnitVec3();
    const spd = baseSpeed * (0.75 + Math.random()*0.8);
    return {
      x, y,
      vx: dir.x * spd,
      vy: dir.y * spd,
      z: 0,
      vz: dir.z * 0.05,               // към/от камерата
      r: 0.6 + Math.random()*0.9,     // МАЛЪК старт
      dr: 0.06 + Math.random()*0.1,   // растеж -> „от малко към голямо“
      life: 80 + Math.random()*60,
      color: colors[(Math.random()*colors.length)|0],
      alpha: 0.98
    };
  }

  // микровзрив от едно правоъгълниче (буква): много малки изстрели
  function microBurstFromRect(rect, bursts=4, perBurst=28, jitter=180){
    // правим няколко „вълни“ за по-жив ефект
    for(let b=0; b<bursts; b++){
      const delay = Math.random()*jitter + b*(jitter*0.35);
      setTimeout(() => {
        for(let i=0;i<perBurst;i++){
          const x = rect.left + Math.random()*rect.width;
          const y = rect.top  + Math.random()*rect.height;
          particles.push(makeParticle(x, y));
        }
      }, delay);
    }
  }

  function step(){
    ctx.clearRect(0,0,canvas.width,canvas.height);
    ctx.globalCompositeOperation = 'lighter';

    for(let i=particles.length-1;i>=0;i--){
      const p = particles[i];

      // 3D дълбочина
      p.z += p.vz;
      const depthScale = 1 + (p.z * 1.0);
      const s = Math.max(0.35, depthScale);

      // движение
      p.vx *= 0.994; p.vy *= 0.994;
      p.x += p.vx; p.y += p.vy;

      // растеж
      p.r += p.dr + (p.vz*4.5);
      p.life--; p.alpha = Math.max(0, p.life/110);

      // рисуване „балон“
      const rr = Math.max(0.45, p.r * s);
      const grd = ctx.createRadialGradient(p.x, p.y, rr*0.12, p.x, p.y, rr);
      grd.addColorStop(0,   p.color + 'EE');
      grd.addColorStop(0.6, p.color + '66');
      grd.addColorStop(1,   '#00000000');

      ctx.globalAlpha = p.alpha;
      ctx.beginPath();
      ctx.fillStyle = grd;
      ctx.arc(p.x, p.y, rr, 0, Math.PI*2);
      ctx.fill();
      ctx.globalAlpha = 1;

      if(p.life <= 0) particles.splice(i,1);
    }

    ctx.globalCompositeOperation = 'source-over';
    requestAnimationFrame(step);
  }
  step();

  // Клик: мини-взрив върху мястото на клика (по желание)
  addEventListener('pointerdown', e => {
    microBurstFromRect({ left: e.clientX-10, top: e.clientY-10, width: 20, height: 20 }, 2, 24, 100);
  });

  // На 5-тата секунда: МНОГО малки взривове ОТ ВСЯКА БУКВА
  setTimeout(() => {
    const glyphs = document.querySelectorAll('.glyph');
    glyphs.forEach(g => {
      const r = g.getBoundingClientRect();
      microBurstFromRect(r, 5, 26, 140); // (вълни, частици/вълна, джитър)
    });

    // и малко от подчертаващата линия за баланс
    const sw = document.getElementById('swash').getBoundingClientRect();
    microBurstFromRect(sw, 4, 22, 160);
  }, 5000);
})();

/* ===== Redirect на 8-мата секунда ===== */
setTimeout(() => {
  window.location.href = "page1.html";
}, 8000);
</script>
</body>
</html>
